import p from"../lib/getWalletContents.js";import{useEffect as y,useRef as l,useState as d}from"react";const C=(s,t,f)=>{const[c,m]=d(),[A,u]=d({}),i=l(t),o=l();return y(()=>{if(!s)return;i.current=t;const a=async()=>{const e=c?.address??s.currentAccount?.address;if(!e)return;u(n=>n.address===e?n:{...n,address:e});const r=await p({address:e,network:t,existingContents:o.current});!r||t!==i.current||JSON.stringify(o.current)===JSON.stringify(r)||(o.current=r,u(n=>({...n,contents:r})))};a();const g=setInterval(a,f??5e3);return()=>clearInterval(g)},[t,s,c]),{account:A,altAccount:c,setAltAccount:m}};var E=C;export{E as default};
